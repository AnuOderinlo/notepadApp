window.bootbox=window.bootbox||function o(t,e){"use strict";function n(o){var t=m[d.locale];return t?t[o]:m.en[o]}function a(o,e,n){o.preventDefault(),t.isFunction(n)&&!1===n(o)||e.modal("hide")}function r(o,e){var n=0;t.each(o,(function(o,t){e(o,t,n++)}))}function c(o){var e,n;if("object"!=typeof o)throw new Error("Please supply an object of options");if(!o.message)throw new Error("Please specify a message");return(o=t.extend({},d,o)).buttons||(o.buttons={}),o.backdrop=!!o.backdrop&&"static",e=o.buttons,n=function(o){var t,e=0;for(t in o)e++;return e}(e),r(e,(function(o,a,r){if(t.isFunction(a)&&(a=e[o]={callback:a}),"object"!==t.type(a))throw new Error("button with key "+o+" must be an object");a.label||(a.label=o),a.className||(a.className=2>=n&&r===n-1?"btn-primary":"btn-default")})),o}function l(o,e,n){return t.extend(!0,{},o,function(o,t){var e=o.length,n={};if(1>e||e>2)throw new Error("Invalid argument length");return 2===e||"string"==typeof o[0]?(n[t[0]]=o[0],n[t[1]]=o[1]):n=o[0],n}(e,n))}function i(o,t,e,n){return u(l({className:"bootbox-"+o,buttons:s.apply(null,t)},n,e),t)}function s(){for(var o={},t=0,e=arguments.length;e>t;t++){var a=arguments[t],r=a.toLowerCase(),c=a.toUpperCase();o[r]={label:n(c)}}return o}function u(o,t){var n={};return r(t,(function(o,t){n[t]=!0})),r(o.buttons,(function(o){if(n[o]===e)throw new Error("button key "+o+" is not allowed (options are "+t.join("\n")+")")})),o}var b={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>"}},p=t("body"),d={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0},f={alert:function(){var o;if((o=i("alert",["ok"],["message","callback"],arguments)).callback&&!t.isFunction(o.callback))throw new Error("alert requires callback property to be a function when provided");return o.buttons.ok.callback=o.onEscape=function(){return!t.isFunction(o.callback)||o.callback()},f.dialog(o)},confirm:function(){var o;if((o=i("confirm",["cancel","confirm"],["message","callback"],arguments)).buttons.cancel.callback=o.onEscape=function(){return o.callback(!1)},o.buttons.confirm.callback=function(){return o.callback(!0)},!t.isFunction(o.callback))throw new Error("confirm requires a callback");return f.dialog(o)},prompt:function(){var o,n,a,c,i,p,d;if(c=t(b.form),n={className:"bootbox-prompt",buttons:s("cancel","confirm"),value:"",inputType:"text"},p=(o=u(l(n,arguments,["title","callback"]),["cancel","confirm"])).show===e||o.show,o.message=c,o.buttons.cancel.callback=o.onEscape=function(){return o.callback(null)},o.buttons.confirm.callback=function(){var e;switch(o.inputType){case"text":case"email":case"select":e=i.val();break;case"checkbox":var n=i.find("input:checked");e=[],r(n,(function(o,n){e.push(t(n).val())}))}return o.callback(e)},o.show=!1,!o.title)throw new Error("prompt requires a title");if(!t.isFunction(o.callback))throw new Error("prompt requires a callback");if(!b.inputs[o.inputType])throw new Error("invalid prompt type");switch(i=t(b.inputs[o.inputType]),o.inputType){case"text":case"email":i.val(o.value);break;case"select":var m={};if(!(d=o.inputOptions||[]).length)throw new Error("prompt with select requires options");r(d,(function(o,n){var a=i;if(n.value===e||n.text===e)throw new Error("given options in wrong format");n.group&&(m[n.group]||(m[n.group]=t("<optgroup/>").attr("label",n.group)),a=m[n.group]),a.append("<option value='"+n.value+"'>"+n.text+"</option>")})),r(m,(function(o,t){i.append(t)})),i.val(o.value);break;case"checkbox":var h=t.isArray(o.value)?o.value:[o.value];if(!(d=o.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!d[0].value||!d[0].text)throw new Error("given options in wrong format");i=t("<div/>"),r(d,(function(e,n){var a=t(b.inputs[o.inputType]);a.find("input").attr("value",n.value),a.find("label").append(n.text),r(h,(function(o,t){t===n.value&&a.find("input").prop("checked",!0)})),i.append(a)}))}return o.placeholder&&i.attr("placeholder",o.placeholder),c.append(i),c.on("submit",(function(o){o.preventDefault(),a.find(".btn-primary").click()})),(a=f.dialog(o)).off("shown.bs.modal"),a.on("shown.bs.modal",(function(){i.focus()})),!0===p&&a.modal("show"),a}};f.dialog=function(o){o=c(o);var e=t(b.dialog),n=e.find(".modal-body"),l=o.buttons,i="",s={onEscape:o.onEscape};if(r(l,(function(o,t){i+="<button data-bb-handler='"+o+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>",s[o]=t.callback})),n.find(".bootbox-body").html(o.message),!0===o.animate&&e.addClass("fade"),o.className&&e.addClass(o.className),o.title&&n.before(b.header),o.closeButton){var u=t(b.closeButton);o.title?e.find(".modal-header").prepend(u):u.css("margin-top","-10px").prependTo(n)}return o.title&&e.find(".modal-title").html(o.title),i.length&&(n.after(b.footer),e.find(".modal-footer").html(i)),e.on("hidden.bs.modal",(function(o){o.target===this&&e.remove()})),e.on("shown.bs.modal",(function(){e.find(".btn-primary:first").focus()})),e.on("escape.close.bb",(function(o){s.onEscape&&a(o,e,s.onEscape)})),e.on("click",".modal-footer button",(function(o){var n=t(this).data("bb-handler");a(o,e,s[n])})),e.on("click",".bootbox-close-button",(function(o){a(o,e,s.onEscape)})),e.on("keyup",(function(o){27===o.which&&e.trigger("escape.close.bb")})),p.append(e),e.modal({backdrop:o.backdrop,keyboard:!1,show:!1}),o.show&&e.modal("show"),e},f.setDefaults=function(){var o={};2===arguments.length?o[arguments[0]]=arguments[1]:o=arguments[0],t.extend(d,o)},f.hideAll=function(){t(".bootbox").modal("hide")};var m={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return f.init=function(e){window.bootbox=o(e||t)},f}(window.jQuery);